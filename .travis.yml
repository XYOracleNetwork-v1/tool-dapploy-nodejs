language: node_js
node_js:
  - "10"

before_install:
  - cd samples/sample-datavault-solidity
  - yarn
  - cd ../sample-datavault-react/
  - yarn
  - cd ../..

script:
  - cd samples/sample-datavault-solidity
  - node_modules/.bin/ganache-cli > /dev/null &
  - sleep 5
  - node_modules/.bin/truffle test 
  - cd ../..
  - ./dapploy -c .travisci/travis_dapploy.conf 

